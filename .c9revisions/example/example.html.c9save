{"ts":1347500111808,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<html>\r\n\t<head>\r\n\t\t<title>crud-file-server example</title>\r\n\t\t<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js\" ></script>\r\n\t</head>\r\n\t<body>\r\n\t\t<fieldset>\r\n\t\t\t<p><strong>Read a file or directory</strong></p>\r\n\t\t\t<div>\r\n\t\t\t\t<label for=\"get\" >File or directory name:</label>\r\n\t\t\t\t<input type=\"text\" id=\"get\" /> \r\n\t\t\t</div>\r\n\t\t\t<input type=\"button\" id=\"get-btn\" value=\"GET\" />\r\n\t\t</fieldset>\r\n\t\t<script>\r\n\t\t\t$('#get-btn').click(function() {\r\n\t\t\t\tif($('#get').val()) {\r\n\t\t\t\t\twindow.open($('#get').val());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t</script>\t\r\n\t\t\r\n\t\t<fieldset>\r\n\t\t\t<p><strong>Write a file</strong></p>\r\n\t\t\t<label for=\"write-path\" >File path:</label>\r\n\t\t\t<input type=\"text\" id=\"write-path\" /> \r\n\t\t\t<br>\r\n\t\t\t<label for=\"write-contents\" >File contents:</label>\r\n\t\t\t<input type=\"text\" id=\"write-contents\" /> \r\n\t\t\t<input type=\"button\" id=\"write-btn\" value=\"PUT\" />\r\n\t\t\t<div id=\"write-msg\"></div>\r\n\t\t</fieldset>\t\r\n\t\t<script>\r\n\t\t\t$('#write-btn').click(function() {\r\n\t\t\t\tif($('#write-path').val()) {\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\ttype: 'PUT',\r\n\t\t\t\t\t\turl: '/' + $('#write-path').val(),\r\n\t\t\t\t\t\tdata: $('#write-contents').val(),\r\n\t\t\t\t\t}).done(function(data) { \r\n\t\t\t\t\t\t$('#write-msg').html('<a href=\"' + $('#write-path').val() + '\">success</a>');\t\t\r\n\t\t\t\t\t}).fail(function(err) { \r\n\t\t\t\t\t\t$('#write-msg').html('failure ' + JSON.stringify(err));\r\n\t\t\t\t\t});\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t</script>\t\r\n\t\t\r\n\t\t<fieldset>\r\n\t\t\t<p><strong>Create a directory</strong></p>\r\n\t\t\t<label for=\"create\" >New directory name:</label>\r\n\t\t\t<input type=\"text\" id=\"create\" /> \r\n\t\t\t<br>\r\n\t\t\t<input type=\"button\" id=\"create-btn\" value=\"POST (create)\" />\r\n\t\t\t<div id=\"create-msg\"></div>\r\n\t\t</fieldset>\r\n\t\t<script>\r\n\t\t\t$('#create-btn').click(function() {\r\n\t\t\t\tif($('#create').val()) {\t\t\t\t\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\t\turl: '/' + $('#create').val() + '?create=directory',\r\n\t\t\t\t\t}).done(function(data) { \r\n\t\t\t\t\t\t$('#create-msg').html('<a href=\"' + $('#create').val() + '\">success</a>');\t\t\r\n\t\t\t\t\t}).fail(function(err) { \r\n\t\t\t\t\t\t$('#create-msg').html('failure ' + JSON.stringify(err));\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t</script>\r\n\t\t\r\n\t\t<fieldset>\r\n\t\t\t<p><strong>Rename a file or directory</strong></p>\r\n\t\t\t<label for=\"rename-old\" >Old name:</label>\r\n\t\t\t<input type=\"text\" id=\"rename-old\" /> \r\n\t\t\t<br>\r\n\t\t\t<label for=\"rename-new\" >New name:</label>\r\n\t\t\t<input type=\"text\" id=\"rename-new\" /> \r\n\t\t\t<input type=\"button\" id=\"rename-btn\" value=\"POST (rename)\" />\r\n\t\t\t<div id=\"rename-msg\"></div>\r\n\t\t</fieldset>\r\n\t\t<script>\r\n\t\t\t$('#rename-btn').click(function() {\r\n\t\t\t\tif($('#rename-old').val() && $('#rename-new').val()) {\t\t\t\t\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\t\turl: '/' + $('#rename-old').val() + '?rename=/' + $('#rename-new').val()\r\n\t\t\t\t\t}).done(function(data) { \r\n\t\t\t\t\t\t$('#rename-msg').html('<a href=\"' + $('#rename-new').val() + '\">success</a>');\t\t\r\n\t\t\t\t\t}).fail(function(err) { \r\n\t\t\t\t\t\t$('#rename-msg').html('failure ' + JSON.stringify(err));\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t</script>\r\n\t\t\r\n\t\t<fieldset>\r\n\t\t\t<p><strong>Delete a file or directory</strong></p>\r\n\t\t\t<label for=\"delete\" >File or directory name:</label>\r\n\t\t\t<input type=\"text\" id=\"delete\" /> \r\n\t\t\t<br>\r\n\t\t\t<input type=\"button\" id=\"delete-btn\" value=\"DELETE\" />\r\n\t\t\t<div id=\"delete-msg\" ></div>\r\n\t\t</fieldset>\t\t\t\r\n\t\t<script>\r\n\t\t\t$('#delete-btn').click(function() {\r\n\t\t\t\tif($('#delete').val()) {\t\t\t\t\r\n\t\t\t\t\tvar url = $('#rename-old').val() + '?rename=' + $('#rename-new').val();\r\n\t\t\t\t\tconsole.log(url);\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\ttype: 'DELETE',\r\n\t\t\t\t\t\turl: '/' + $('#delete').val()\r\n\t\t\t\t\t}).done(function(data) { \r\n\t\t\t\t\t\t$('#delete-msg').html('success');\t\t\r\n\t\t\t\t\t}).fail(function(err) { \r\n\t\t\t\t\t\t$('#delete-msg').html('failure ' + JSON.stringify(err));\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t</script>\r\n\t</body>\r\n\t\r\n</html>"]],"start1":0,"start2":0,"length1":0,"length2":3740}]],"length":3740}
